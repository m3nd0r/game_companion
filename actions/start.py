import config
import time
from database import db_agent
from utils import restricted

db = db_agent(config.db_name)


@restricted
def start(update, context):
    user = update.message.from_user

    if str(user.id) in str(db.check_user_id()) and str(user.id) != str(config.admin) and str(user.id) != str(config.alice)\
            and str(user.id) != str(config.nata):
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–°–Ω–æ–≤–∞ –ø—Ä–∏–≤–µ—Ç! –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n\n"
                                      "/monster_list - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å –∫–∞–∫–∏–º–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞–º–∏ —Ç—ã —É–∂–µ –º–æ–∂–µ—à—å —Å—Ä–∞–∂–∞—Ç—å—Å—è\n"
                                      "/monster_info –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–æ–Ω—Å—Ç—Ä–µ\n"
                                      "/fight –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞–ù–∞–ê–Ω–≥–ª–∏–π—Å–∫–æ–º - –Ω–∞—á–∞—Ç—å –±–æ–π —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –º–æ–Ω—Å—Ç—Ä–æ–º\n"
                                      "/player_info - —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ\n"
                                      "/change_player_name - –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/heal - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ª–µ—á–∏—Ç—å —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/map - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É —ç—Ç–æ–≥–æ –º–∏—Ä–∞\n"
                                      "/roll - –≤—ã–±—Ä–∞—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–µ–µ (–∏–ª–∏ –ø–ª–æ—Ö–æ–µ) —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç"
                                 )

    elif user.id == config.admin:
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–ü—Ä–∏–≤–µ—Ç <b>–°–æ–∑–¥–∞—Ç–µ–ª—å</b>!‚úåüèª"
                                      "\n–ï—Å–ª–∏ –ê–ª–∏—Å–∫–∞ —Ä—è–¥–æ–º, —Ç–æ –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å!",
                                 parse_mode='html')

    elif user.id == config.nata:
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–ù–∞—Ç–∫–∞?")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="üòç")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–¢—ã –∫–∞–∫ –≤—Å–µ–≥–¥–∞ –≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω–∞!")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–¢–≤–æ–π –º—É–∂ –º–µ–Ω—è —É–∂–µ –∫–æ–µ —á–µ–º—É –Ω–∞—É—á–∏–ª, –ø–æ—ç—Ç–æ–º—É –∑–∞–ø–æ–º–∏–Ω–∞–π –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
                                      "/monster_list - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å –∫–∞–∫–∏–º–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞–º–∏ —Ç—ã —É–∂–µ –º–æ–∂–µ—à—å —Å—Ä–∞–∂–∞—Ç—å—Å—è\n"
                                      "/monster_info –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–æ–Ω—Å—Ç—Ä–µ\n"
                                      "/fight –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞–ù–∞–ê–Ω–≥–ª–∏–π—Å–∫–æ–º - –Ω–∞—á–∞—Ç—å –±–æ–π —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –º–æ–Ω—Å—Ç—Ä–æ–º\n"
                                      "/player_info - —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ\n"
                                      "/change_player_name - –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/heal - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ª–µ—á–∏—Ç—å —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/map - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É —ç—Ç–æ–≥–æ –º–∏—Ä–∞\n"
                                      "/roll - –≤—ã–±—Ä–∞—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–µ–µ (–∏–ª–∏ –ø–ª–æ—Ö–æ–µ) —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç")

    elif user.id == config.alice:
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="ü§®")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–ê–ª–∏—Å–∫–∞?")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="üòß")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="ü•≥")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="üòç")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å!!!")
        time.sleep(1)
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–¢–≤–æ–π –ø–∞–ø–∞ –º–µ–Ω—è —É–∂–µ –∫–æ–µ —á–µ–º—É –Ω–∞—É—á–∏–ª, –ø–æ—ç—Ç–æ–º—É –∑–∞–ø–æ–º–∏–Ω–∞–π –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
                                      "/monster_list - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å –∫–∞–∫–∏–º–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞–º–∏ —Ç—ã —É–∂–µ –º–æ–∂–µ—à—å —Å—Ä–∞–∂–∞—Ç—å—Å—è\n"
                                      "/monster_info –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–æ–Ω—Å—Ç—Ä–µ\n"
                                      "/fight –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞–ù–∞–ê–Ω–≥–ª–∏–π—Å–∫–æ–º - –Ω–∞—á–∞—Ç—å –±–æ–π —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –º–æ–Ω—Å—Ç—Ä–æ–º\n"
                                      "/player_info - —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ\n"
                                      "/change_player_name - –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/heal - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ª–µ—á–∏—Ç—å —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/map - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É —ç—Ç–æ–≥–æ –º–∏—Ä–∞\n"
                                      "/roll - –≤—ã–±—Ä–∞—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–µ–µ (–∏–ª–∏ –ø–ª–æ—Ö–æ–µ) —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç")

    else:
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–ü—Ä–∏–≤–µ—Ç, {}!‚úåüèª".format(update.message.from_user.first_name))
        context.bot.send_message(chat_id=update.effective_chat.id,
                                 text="–Ø –µ—â—ë –º–æ–ª–æ–¥–æ–π, –Ω–æ —É–∂–µ –∫–æ–µ —á—Ç–æ –º–æ–≥—É, –ø–æ—ç—Ç–æ–º—É –∑–∞–ø–æ–º–∏–Ω–∞–π –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
                                      "/monster_list - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å –∫–∞–∫–∏–º–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞–º–∏ —Ç—ã —É–∂–µ –º–æ–∂–µ—à—å —Å—Ä–∞–∂–∞—Ç—å—Å—è\n"
                                      "/monster_info –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–æ–Ω—Å—Ç—Ä–µ\n"
                                      "/fight –∏–º—è–ú–æ–Ω—Å—Ç—Ä–∞–ù–∞–ê–Ω–≥–ª–∏–π—Å–∫–æ–º - –Ω–∞—á–∞—Ç—å –±–æ–π —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –º–æ–Ω—Å—Ç—Ä–æ–º\n"
                                      "/player_info - —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ\n"
                                      "/change_player_name - –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/heal - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ª–µ—á–∏—Ç—å —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n"
                                      "/map - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É —ç—Ç–æ–≥–æ –º–∏—Ä–∞\n"
                                      "/roll - –≤—ã–±—Ä–∞—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–µ–µ (–∏–ª–∏ –ø–ª–æ—Ö–æ–µ) —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç")


